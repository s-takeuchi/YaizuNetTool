<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="content-style-type" content="text/css">
<link rel="stylesheet" href="./style.css" type="text/css">
</HEAD>

<style type="text/css">
<!--
.spc { margin-left: 2em; margin-right: 0em; }
-->
</style>

<BODY>
<div id="container">

<H1>7. スレッド実行について</H1>
<H2 ID="7.1">7.1 全スレッド一括開始／停止</H2>
ワークスペース上のデータフローを構成するすべてのスレッドを開始または停止することができます。
個々のスレッドの開始／停止を制御した場合や，通信ログを確認したい場合は，後述のスレッドコントローラ
を使用してください。
<p>

<H2 ID="7.2">7.2 スレッドコントローラ</H2>
ワークスペース上の複数の処理要素で構成されるスレッド一つ一つについて，処理の開始および停止を
制御することができます。<br>
メインコンソールからスレッドコントローラを起動すると，以下に示すダイアログが表示されます。<br>
<img src="threadcontroller.jpg"><p>
ダイアログ上方がログ出力領域で主に受信要素や送信要素の通信ログが出力されます。<br>
ダイアログ下方はスレッド一覧表示領域で，それぞれのスレッドと状態を表示します。Nameには種別がInitiatorと
なる処理要素の名称が表示されます。<p>
開始または停止させたいスレッドをチェックボックスで選択し，[Start (R)]または[Stop (S)]ボタンを押下
することにより，スレッドを開始または停止することができます。<br>
スレッドの状態は，スレッド一覧表示領域のStatusカラムに表示されます。状態には，
Ready:実行可能状態，Starting:スレッド開始中，Stopping:スレッド停止中，Running:実行中の4つの
状態があり，Readyのスレッドに対して開始操作，Runningのスレッドに対して停止操作を行うことができます。

<H2 ID="7.3">7.3 コマンドによる実行</H2>
メインコンソールで定義したスレッド（データフロー）は，バックグラウンドプロセスとして実行することができます。<p>
・スレッドの実行<br>
＜インストール先フォルダ＞\StkFw\stkfw.exe /start ＜.stdファイル名＞<br>
<div class=spc>
指定した.stdファイルで定義されている全てのスレッドを実行します。
</div>
<p>

・全てのStkFwプロセスの終了<br>
＜インストール先フォルダ＞\StkFw\stkfw.exe /stopall<br>
<div class=spc>
StkFwがGUIで動作しているか，バックグラウンドプロセスで動作しているかに関係なく，
現在実行中の全てのStkFwのプロセスを終了します。<br>
StkFwが実行されているかどうかを調べるには，tasklistコマンドを実行するか，
タスクマネージャのプロセス一覧を確認してください。
tasklistコマンドはWindows XP以降で以下のように呼び出すことができます。<p>
tasklist /FI "IMAGENAME eq stkfw.exe"<p>
</div>
<p>

・特定のStkFwプロセスの終了<br>
<div class=spc>
StkFwを実行したあと，tasklistコマンドかタスクマネージャを使用して，実行したStkFwのプロセスID(PID)を調べてください。<br>
Windows XP以降であれば以下のコマンドを実行することで，指定したプロセスIDを持つStkFwを終了させることができます。<p>
taskkill /PID ＜プロセスID(PID)＞ /F<p>
Windows 2000の場合，タスクマネージャのプロセス一覧から対象のプロセスを探して終了してください。<p>
</div>
<p>


</div>
</BODY>
