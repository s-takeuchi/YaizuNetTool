<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="content-style-type" content="text/css">
<link rel="stylesheet" href="./style.css" type="text/css">
</HEAD>

<style type="text/css">
<!--
.spc { margin-left: 2em; margin-right: 0em; }
-->
</style>

<BODY>
<div id="container">
<H1>5. 変数管理機能</H1>

<H2 ID="5.1">5.1 変数管理機能とは</H2>
StkFwは，通信データの保持や処理のため，またデータフローにおける条件判定のために，変数管理機能を提供しています。
StkFwが扱うことができる変数の種別には，下記の2種類があります。<BR>
<TABLE BORDER="1">
<TR><TD>コミュニケーション用変数</TD>
<TD>通信データを保持／処理するために使用する変数。</TD></TR>
<TR><TD>フラグ用変数</TD>
<TD>データフローにおける条件判定として使用可能な変数。</TD></TR>
</TABLE><P>

メインコンソールから[Config]-[Communication variable]メニューまたは[Config]-[Flag variable]メニューを
選択すると，Variable controllerウィンドウが表示されます。
Variable controllerウィンドウでは，コミュニケーション用変数またはフラグ用変数の一覧を表示することができます。<P>
<IMG SRC="varcon1.jpg"><BR>Variable controllerウィンドウ（コミュニケーション用変数）<BR>
<IMG SRC="varcon2.jpg"><BR>Variable controllerウィンドウ（フラグ用変数）<BR>
<P>
また，Variable controllerウィンドウ起動後，ウィンドウ上部のラジオボタンでコミュニケーション用変数とフラグ用変数の表示
を切り替えることができます。<br>
各変数一覧から複数の変数を指定するときは，[Shift]キーまたは[Ctrl]キーを押下しながら各変数をクリックしてください。<p>

<H2 ID="5.2">5.2 コミュニケーション用変数について</H2>
コミュニケーション用変数にはName（変数名），Description（変数詳細説明），データの３つの属性があります。<BR>
ユーザーはコミュニケーション用変数に対して以下の操作を行うことができます。<p>
(1) 追加
<div class=spc>コミュニケーション用変数を追加することができます。</div>
(2) 編集
<div class=spc>一覧から変数を１つ選択して既存の変数を編集することができます。
一覧から変数をダブルクリックしたときも変数を編集することができます。</div>
(3) 削除
<div class=spc>一覧から複数の変数を選択して変数を削除することができます。
複数の変数を選択するときはシフトキーを押しながら変数をクリックしてください。</div>
(4) インポート
<div class=spc>Variable controllerウィンドウから[File]-[Import]メニューを選択後，インポート対象ファイル
が格納されているフォルダを指定してください。指定したフォルダに格納されている *.xxx という名前のファイル
がインポート対象となります。インポート操作により生成するコミュニケーション用変数のName（変数名)は，
インポート対象ファイル名の拡張子を除く最初の31文字となります。
</div>
(5) エクスポート
<div class=spc>Variable controllerウィンドウから[File]-[Export]メニューを選択後，エクスポート先
フォルダを指定してください。選択した変数の情報が指定したフォルダにファイルとして格納されます。
エクスポート対象ファイルは *.xxx という名前のファイルです。*.xxx の拡張子を除いたファイル名がエクスポート
したコミュニケーション用変数のName（変数名)と一致します。
なお，エクスポートしたファイルにDescription（変数詳細説明）の情報は含まれません。</div>
<P>
コミュニケーション用変数の追加／編集ボタンを押すと，コミュニケーション用変数設定ウィンドウが起動します。
コミュニケーション用変数設定ウィンドウでは以下の操作を行うことができます。<P>
<div class=spc><UL>
<LI>Name（変数名），Description（変数詳細説明），データの設定<BR>
<LI>ファイルからデータをインポート，ファイルへデータをエクスポート<BR>
<LI>ビューの切り替え（バイナリビューおよびUTF-8ビューの切り替え）。ただしUTF-8に切り替えるためには，データ中の
全てのコードはUTF-8に変換可能なコードでなければなりません。<BR>
</div></UL>


<H2 ID="5.3">5.3 フラグ用変数について</H2>
フラグ用変数にはName（変数名），Description（変数詳細説明），状態(True/False)の３つの属性があります。<BR>
ユーザーはフラグ用変数に対して以下の操作を行うことができます。<p>
(1) 追加
<div class=spc>フラグ用変数を追加することができます。</div>
(2) 編集
<div class=spc>一覧から変数を１つ選択して既存の変数を編集することができます。</div>
(3) 削除
<div class=spc>一覧から複数の変数を選択して変数を削除することができます。
複数の変数を選択するときはシフトキーを押しながら変数をクリックしてください。</div>
(4) True/False切り替え
<div class=spc>一覧から複数の変数を選択して変数の状態(True/False)を変更することができます。
複数の変数を選択するときはシフトキーを押しながら変数をクリックしてください。
一覧から変数をダブルクリックしたときも変数の状態(True/False)を切り替えることができます。</div>

<H2 ID="5.4">5.4 変数管理機能の制限</H2>
変数管理機能の制限を以下に示します。<BR>
<TABLE BORDER="1">
<TR><TD>Name（変数名）の最大文字数</TD><TD>31文字（31文字を超える変数名の設定を試みると32文字以降は切り取られます）</TD></TR>
<TR><TD>Description（変数詳細説明）の最大文字数</TD><TD>63文字（63文字を超える変数詳細説明の設定を試みると64文字以降は切り取られます）</TD></TR>
<TR><TD>管理可能な変数の最大数</TD><TD>1,000（コミュニケーション用変数とフラグ用変数を合わせて）</TD></TR>
<TR><TD>１つのコミュニケーション用変数として扱うことができるデータのサイズ</TD><TD>9,999,999バイト
（1面10kバイトの面を1,000個使用できます）</TD></TR>
<TR><TD>コミュニケーション用変数全体で扱うことができるデータのサイズ</TD><TD>99,999,990バイト
（1面10kバイトの面を10,000個使用できます）</TD></TR>
<TR><TD>表示可能なコミュニケーション用変数の種別</TD><TD>バイナリ型(16進数表示)，UTF-8</TD></TR>
<TR><TD>入力可能なコミュニケーション用変数の種別</TD><TD>UTF-8</TD></TR>
</TABLE><P>

</div>
</BODY>
